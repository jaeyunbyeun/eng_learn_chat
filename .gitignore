# 0) 현재 저장소 루트 확인
git rev-parse --show-toplevel

# 1) 루트로 이동
cd C:\Users\jaeyun\eng_learn_chat
# (또는) cd $(git rev-parse --show-toplevel)

# 2) .gitignore 만들기/덮어쓰기
@'
# Gradle
.gradle/

# dependencies
eng_learning/ui/node_modules/
.pnp/
.pnp.js

# testing
coverage/

# production
build/

# misc
.DS_Store
.env.local
.env.development.local
.env.test.local
.env.production.local

npm-debug.log*
yarn-debug.log*
yarn-error.log*
'@ | Set-Content .gitignore

# 3) .gitignore 커밋
git add .gitignore
git commit -m "chore: .gitignore 범위 확대"

# 4) 이미 추적 중인 산출물 인덱스에서 제거(파일은 로컬에 남음)
git rm -r --cached eng_learning\back\node_modules 2>$null
git rm -r --cached eng_learning\back\build 2>$null
git rm -r --cached node_modules 2>$null
git rm -r --cached build 2>$null
git commit -m "chore: remove cached build artifacts"

# 5) 푸시
git push
