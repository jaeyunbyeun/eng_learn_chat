{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaeyun\\\\eng_learn_chat\\\\eng_learning\\\\ui\\\\src\\\\pages\\\\Text.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Chat.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Chat() {\n  _s();\n  const [isTopicSelected, setIsTopicSelected] = useState(false);\n  const [selectedTopic, setSelectedTopic] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const navigate = useNavigate();\n  const handleTopicSelect = topic => {\n    setSelectedTopic(topic);\n    setIsTopicSelected(true);\n    setMessages([`You selected: ${topic}`]);\n  };\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const newMessages = [...messages, `🧑: ${input}`];\n    setMessages(newMessages);\n    setInput('');\n    try {\n      const response = await fetch('http://localhost:8080/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          topic: selectedTopic,\n          userMessage: input\n        })\n      });\n      const data = await response.json();\n      setMessages(prev => [...prev, `🤖: ${data.reply}`]);\n    } catch (err) {\n      console.error('Error communicating with Gemini API:', err);\n      setMessages(prev => [...prev, '❌ Gemini 응답 오류가 발생했습니다.']);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  const handleExit = () => {\n    setIsTopicSelected(false);\n    setSelectedTopic('');\n    setMessages([]);\n    setInput('');\n    navigate('/feedback');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-box\",\n      children: [isTopicSelected && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"exit-button\",\n        onClick: handleExit,\n        children: \"\\u274C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: isTopicSelected ? `💬 롤플레이 주제: ${selectedTopic}` : '💬 롤플레이 주제 선택'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), !isTopicSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topic-selection\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uC5B4\\uB5A4 \\uB864\\uD50C\\uB808\\uC774\\uB97C \\uD560\\uAE4C\\uC694?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTopicSelect('병원에서 의사와 환자'),\n          children: \"\\uD83C\\uDFE5 \\uBCD1\\uC6D0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTopicSelect('레스토랑에서 주문하기'),\n          children: \"\\uD83C\\uDF7D\\uFE0F \\uB808\\uC2A4\\uD1A0\\uB791\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTopicSelect('공항에서 체크인하기'),\n          children: \"\\u2708\\uFE0F \\uACF5\\uD56D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTopicSelect('호텔에서 체크인하기'),\n          children: \"\\uD83C\\uDFE8 \\uD638\\uD154\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }, this), isTopicSelected && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages\",\n          children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 23\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-input-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"chat-input\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: handleKeyDown,\n            placeholder: \"Type your message...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"send-button\",\n            onClick: handleSend,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this);\n}\n_s(Chat, \"uqHP8gN6ZD6WKu1Xct0EhMo/M4U=\", false, function () {\n  return [useNavigate];\n});\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Chat","_s","isTopicSelected","setIsTopicSelected","selectedTopic","setSelectedTopic","messages","setMessages","input","setInput","navigate","handleTopicSelect","topic","handleSend","trim","newMessages","response","fetch","method","headers","body","JSON","stringify","userMessage","data","json","prev","reply","err","console","error","handleKeyDown","e","key","preventDefault","handleExit","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","idx","value","onChange","target","onKeyDown","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/jaeyun/eng_learn_chat/eng_learning/ui/src/pages/Text.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Chat.css';\r\n\r\nexport default function Chat() {\r\n  const [isTopicSelected, setIsTopicSelected] = useState(false);\r\n  const [selectedTopic, setSelectedTopic] = useState('');\r\n  const [messages, setMessages] = useState<string[]>([]);\r\n  const [input, setInput] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleTopicSelect = (topic: string) => {\r\n    setSelectedTopic(topic);\r\n    setIsTopicSelected(true);\r\n    setMessages([`You selected: ${topic}`]);\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const newMessages = [...messages, `🧑: ${input}`];\r\n    setMessages(newMessages);\r\n    setInput('');\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:8080/api/chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          topic: selectedTopic,\r\n          userMessage: input,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      setMessages((prev) => [...prev, `🤖: ${data.reply}`]);\r\n    } catch (err) {\r\n      console.error('Error communicating with Gemini API:', err);\r\n      setMessages((prev) => [...prev, '❌ Gemini 응답 오류가 발생했습니다.']);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  const handleExit = () => {\r\n    setIsTopicSelected(false);\r\n    setSelectedTopic('');\r\n    setMessages([]);\r\n    setInput('');\r\n    navigate('/feedback');\r\n  };\r\n\r\n  return (\r\n      <div className=\"chat-container\">\r\n        <div className=\"chat-box\">\r\n          {isTopicSelected && (\r\n              <button className=\"exit-button\" onClick={handleExit}>\r\n                ❌\r\n              </button>\r\n          )}\r\n\r\n          <div className=\"chat-header\">\r\n            {isTopicSelected ? `💬 롤플레이 주제: ${selectedTopic}` : '💬 롤플레이 주제 선택'}\r\n          </div>\r\n\r\n          {!isTopicSelected && (\r\n              <div className=\"topic-selection\">\r\n                <p>어떤 롤플레이를 할까요?</p>\r\n                <button onClick={() => handleTopicSelect('병원에서 의사와 환자')}>🏥 병원</button>\r\n                <button onClick={() => handleTopicSelect('레스토랑에서 주문하기')}>🍽️ 레스토랑</button>\r\n                <button onClick={() => handleTopicSelect('공항에서 체크인하기')}>✈️ 공항</button>\r\n                <button onClick={() => handleTopicSelect('호텔에서 체크인하기')}>🏨 호텔</button>\r\n              </div>\r\n          )}\r\n\r\n          {isTopicSelected && (\r\n              <>\r\n                <div className=\"chat-messages\">\r\n                  {messages.map((msg, idx) => (\r\n                      <div key={idx} className=\"message\">\r\n                        <span>{msg}</span>\r\n                      </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"chat-input-area\">\r\n                  <input\r\n                      className=\"chat-input\"\r\n                      value={input}\r\n                      onChange={(e) => setInput(e.target.value)}\r\n                      onKeyDown={handleKeyDown}\r\n                      placeholder=\"Type your message...\"\r\n                  />\r\n                  <button className=\"send-button\" onClick={handleSend}>\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </>\r\n          )}\r\n        </div>\r\n      </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}